import{p,d as n,e as t,F as g,l as b,h as x,m as l,v as d,t as c,k as u,f as _,w as f,j as y,o as r}from"./app-DOCmqhjC.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={name:"login",data(){return{auth:{username:"",password:""},validationErrors:{},processing:!1}},methods:{...p({signIn:"auth/login"}),async login(){this.processing=!0,await axios.post("/api/user/login",this.auth).then(({data:s})=>{localStorage.setItem("user",JSON.stringify(s)),axios.defaults.headers.common.Authorization=`Bearer ${s.authorization.token}`,this.signIn(),this.$router.push({name:"dashboard"})}).catch(({response:s})=>{s.status===422?this.validationErrors=s.data.data:this.validationErrors=s.data.data}).finally(()=>{this.processing=!1})}}},k={class:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8 flex items-center justify-center"},E={class:"w-full max-w-sm mt-20"},N=t("div",{class:"font-bold text-xl mb-2"},"Login",-1),V={class:"bg-connectyed-card-light shadow-md rounded px-8 pt-6 pb-8 mb-4 border-solid border-2 border-gray-200",action:"javascript:void(0)",method:"post"},j={key:0,class:"mb-1"},C={class:"alert alert-danger"},B={class:"mb-0"},L={class:"mb-4"},U=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"}," Username ",-1),D={class:"mb-6"},I=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Password ",-1),S={class:"flex items-center justify-between"},z=["disabled"],A=t("div",{class:"my-5 text-black"},null,-1),F=t("p",{class:"text-center text-gray-500 text-xs"}," Â©2024 Connectyed. ",-1);function O(s,a,P,T,e,i){const m=y("router-link");return r(),n("div",k,[t("div",E,[N,t("form",V,[Object.keys(e.validationErrors).length>0?(r(),n("div",j,[t("div",C,[t("ul",B,[(r(!0),n(g,null,b(e.validationErrors,(o,h)=>(r(),n("li",{class:"text-red-500 text-xs italic",key:h},c(o[0]),1))),128))])])])):x("",!0),t("div",L,[U,l(t("input",{class:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":a[0]||(a[0]=o=>e.auth.username=o),name:"username",id:"username",type:"text",placeholder:"Username",autocomplete:"off"},null,512),[[d,e.auth.username]])]),t("div",D,[I,l(t("input",{class:"appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":a[1]||(a[1]=o=>e.auth.password=o),name:"password",id:"password",type:"password",placeholder:"******"},null,512),[[d,e.auth.password]])]),t("div",S,[t("button",{class:"bg-connectyed-button-light text-connectyed-button-dark hover:bg-connectyed-button-hover-light hover:text-connectyed-button-light w-full h-12 duration-150",type:"submit",disabled:e.processing,onClick:a[2]||(a[2]=(...o)=>i.login&&i.login(...o))},c(e.processing?"Please wait":"Login"),9,z)]),A,t("label",null,[u("Don't have an account? "),_(m,{to:{name:"register"}},{default:f(()=>[u("Register Now!")]),_:1})])]),F])])}const R=v(w,[["render",O]]);export{R as default};
